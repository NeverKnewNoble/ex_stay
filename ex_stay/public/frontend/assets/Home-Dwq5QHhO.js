var y=(a,t,l)=>new Promise((o,u)=>{var m=n=>{try{i(l.next(n))}catch(g){u(g)}},d=n=>{try{i(l.throw(n))}catch(g){u(g)}},i=n=>n.done?o(n.value):Promise.resolve(n.value).then(m,d);i((l=l.apply(a,t)).next())});import{a as j}from"./axios-Bn511Lua.js";import{_ as S,r as p,c as w,o as F,a as f,b as s,d as b,w as R,v as T,F as k,e as C,t as q,f as A,u as D,g as x,h as c,i as P}from"./index-Db7eiPIg.js";import{N as E,F as L}from"./footer-jK3drDvy.js";import{l as M}from"./listingCard-Bs5fFqiW.js";import{s as N}from"./config-C47usz4h.js";const Q="/assets/ex_stay/frontend/assets/sunny-beach-BqJxdDaq.mp4",V={name:"HomePage",components:{Navbar:E,listingCard:M,FooterComponent:L},setup(){const a=p([]),t=p(1),l=p(8),o=D(),u=p(""),m=p(!1),d=p([]),i=r=>r?r.startsWith("/files")?`${N}${r}`:r:"../assets/images/default-property.jpg",n=()=>y(this,null,function*(){try{const r=yield j.get(`${N}/api/method/ex_stay.api.homeproperty.homeproperty`);a.value=r.data.message,console.log(a.value)}catch(r){console.error("Error fetching properties:",r)}}),g=w(()=>{const r=(t.value-1)*l.value;return a.value.slice(r,r+l.value)}),e=w(()=>Math.ceil(a.value.length/l.value)),v=r=>{o.push({name:"BookingPage",query:{title:r.custom_title}})},B=()=>{const r=u.value.toLowerCase();d.value=a.value.filter(_=>[_.custom_title,_.custom_location,_.custom_city,_.custom_country].some(h=>h==null?void 0:h.toLowerCase().includes(r))),m.value=!0},U=()=>{m.value=!1,u.value="",d.value=[]};return F(n),{properties:a,page:t,perPage:l,totalPages:e,paginatedProperties:g,getImageUrl:i,goToBookingPage:v,searchQuery:u,searchProperties:B,filteredProperties:d,showSearchResults:m,closeSearchResults:U}}},I={class:"w-full h-screen bg-gray-200 text-black"},H={class:"w-full h-[800px] relative"},W={class:"absolute top-2 left-0 w-full"},z={class:"absolute top-[500px] left-0 w-full flex items-center justify-center"},J={class:"relative"},Y={class:"w-full bg-white min-h-screen pt-10 px-15 pb-20"},G={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5 lg:gap-x-2"},K={class:"flex items-center justify-center pt-15"},O={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center"},X={class:"bg-white rounded-lg p-6 max-w-4xl w-full shadow-lg relative"},Z={class:"text-2xl font-semibold text-green-600 text-center mb-5"},$={key:0},ee={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},te={key:1,class:"text-center text-gray-500"};function oe(a,t,l,o,u,m){const d=x("Navbar"),i=x("listingCard"),n=x("n-pagination"),g=x("FooterComponent");return c(),f("div",I,[s("section",H,[t[5]||(t[5]=s("video",{class:"w-full h-full object-cover",autoplay:"",loop:"",muted:"",playsinline:""},[s("source",{src:Q,type:"video/mp4"})],-1)),t[6]||(t[6]=s("div",{class:"absolute inset-0 bg-black bg-opacity-50"},null,-1)),s("div",W,[b(d)]),t[7]||(t[7]=s("div",{class:"text-white text-[100px] absolute top-[300px] left-0 w-full flex items-center justify-center"},[s("h1",null,"Welcome To Ex Stay")],-1)),s("div",z,[s("div",J,[R(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.searchQuery=e),placeholder:"Search For Your Destination",class:"bg-gray-100 sm:w-[680px] md:w-[950px] lg:w-[950px] py-[12px] focus:bg-white border-none transition rounded-full pl-5 pr-12 focus:border-none"},null,512),[[T,o.searchQuery]]),s("button",{onClick:t[1]||(t[1]=(...e)=>o.searchProperties&&o.searchProperties(...e)),class:"w-[42px] h-[42px] absolute right-[4px] top-1/2 transform -translate-y-1/2 bg-[#7ebd9c] rounded-full flex items-center justify-center hover:bg-[#6daa8b] transition-colors"},t[4]||(t[4]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)]))])])]),s("section",Y,[t[8]||(t[8]=s("h2",{class:"text-[50px] mt-[100px] font-semibold text-center text-green-600 mb-10"}," Experience Comfort Like Never Before ",-1)),s("div",G,[(c(!0),f(k,null,C(o.paginatedProperties,e=>(c(),P(i,{key:e.item_code,title:e.custom_title,address:e.custom_location,location:e.custom_city,country:e.custom_country,price:e.rate||"N/A",currency:e.currency||"N/A",imageUrl:o.getImageUrl(e.custom_profile_picture),onClick:v=>o.goToBookingPage(e)},null,8,["title","address","location","country","price","currency","imageUrl","onClick"]))),128))]),s("div",K,[b(n,{page:o.page,"onUpdate:page":t[2]||(t[2]=e=>o.page=e),"page-count":o.totalPages},null,8,["page","page-count"])])]),o.showSearchResults?(c(),f("div",O,[s("div",X,[s("button",{onClick:t[3]||(t[3]=(...e)=>o.closeSearchResults&&o.closeSearchResults(...e)),class:"absolute top-2 right-2 text-gray-600 hover:text-gray-900"}," âœ– "),s("h2",Z,' Results for "'+q(o.searchQuery)+'" ',1),o.filteredProperties.length?(c(),f("div",$,[s("div",ee,[(c(!0),f(k,null,C(o.filteredProperties,e=>(c(),P(i,{key:e.item_code,title:e.custom_title,address:e.custom_location,location:e.custom_city,country:e.custom_country,price:e.rate||"N/A",currency:e.currency||"N/A",imageUrl:o.getImageUrl(e.custom_profile_picture),onClick:v=>o.goToBookingPage(e)},null,8,["title","address","location","country","price","currency","imageUrl","onClick"]))),128))])])):(c(),f("p",te,"No results found."))])])):A("",!0),b(g)])}const ce=S(V,[["render",oe]]);export{ce as default};
