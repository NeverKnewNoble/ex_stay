var b=(g,c,o)=>new Promise((l,r)=>{var m=t=>{try{i(o.next(t))}catch(d){r(d)}},n=t=>{try{i(o.throw(t))}catch(d){r(d)}},i=t=>t.done?l(t.value):Promise.resolve(t.value).then(m,n);i((o=o.apply(g,c)).next())});import{r as u,a as p,b as e,n as k,k as _,w as j,v as C,d as x,j as E,t as v,m as P,f as y,u as T,g as I,h as f,l as L}from"./index-Db7eiPIg.js";import{l as S,f as V,b as B,c as F,d as N,e as A,g as M,F as Y}from"./beachvue-BpXHLvbr.js";import{a as $}from"./axios-Bn511Lua.js";import{s as z}from"./config-C47usz4h.js";const D={class:"flex items-center justify-center h-screen bg-white"},R={class:"flex w-[1000px] h-[90%] shadow-lg rounded-lg overflow-hidden border-2 border-gray-300"},U={class:"flex-1 flex flex-col justify-center items-center bg-white p-8 rounded-r-lg"},q={class:"relative w-full"},G=["disabled"],H={class:"flex items-center justify-between"},J={class:"text-sm"},K={key:0,class:"text-red-500 mt-2"},O={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center"},se={__name:"forgotPassword",setup(g){const c=T(),o=u(""),l=u(!1),r=u(!1),m=u(M),n=u(null);S.add(V,B,F,N,A);function i(){return b(this,null,function*(){l.value=!0;try{(yield $.post(`${z}/api/method/ex_stay.api.forgot_password.forgot_password`,{email:o.value},{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.message.status==="success"?r.value=!0:t(error)}catch(a){t(a)}finally{l.value=!1}})}function t(a){a.response&&a.response.data?n.value=a.response.data.message||"Check Your Email, Please try again.":n.value="Check Your Email, Please try again."}function d(){r.value=!1,c.push("/account/login")}return(a,s)=>{const w=I("router-link");return f(),p("div",D,[e("div",R,[e("div",{class:"relative flex-1 bg-cover bg-center text-white p-8",style:k({backgroundImage:`url(${m.value})`})},s[1]||(s[1]=[e("div",{class:"absolute inset-0 bg-black bg-opacity-40 rounded-l-lg"},null,-1),e("div",{class:"relative z-10 max-w-sm"},null,-1)]),4),e("div",U,[s[4]||(s[4]=e("h2",{class:"text-[50px] font-semibold mb-4"},"Forgot Password",-1)),e("form",{onSubmit:_(i,["prevent"]),class:"w-full flex flex-col space-y-4"},[e("div",q,[s[2]||(s[2]=e("label",{class:"block text-gray-700 text-sm font-medium mb-1"},"Email",-1)),j(e("input",{"onUpdate:modelValue":s[0]||(s[0]=h=>o.value=h),type:"text",required:"",placeholder:"johndoe@email.com",class:"w-[500px] border border-gray-400 focus:border-gray-400 shadow-md focus:shadow-md rounded-md py-2 pl-10 pr-3"},null,512),[[C,o.value]]),x(E(Y),{icon:["fas","envelope"],class:"absolute left-3 top-9 transform -translate-y-1/2 text-gray-500"})]),e("button",{type:"submit",class:"w-full bg-green-600 text-white py-2 rounded-md hover:bg-green-700 transition disabled:opacity-50",disabled:l.value},v(l.value?"Sending Email...":"Reset Password"),9,G),e("div",H,[e("p",J,[x(w,{to:"/account/login",class:"text-sm text-green-600 font-bold hover:underline"},{default:P(()=>s[3]||(s[3]=[L("Back To Login")])),_:1})])]),n.value?(f(),p("p",K,v(n.value),1)):y("",!0)],32)])]),r.value?(f(),p("div",O,[e("div",{class:"bg-white p-6 rounded-lg shadow-lg w-96 text-center"},[s[5]||(s[5]=e("h2",{class:"text-green-600 text-xl font-bold mb-4"},"Please Check Your Email!",-1)),s[6]||(s[6]=e("p",{class:"text-gray-700 mb-2"},"An email has been sent to you with instructions to reset your password.",-1)),s[7]||(s[7]=e("p",{class:"text-gray-500 text-sm mb-4"},"If you can't find the email, please check your spam folder.",-1)),e("button",{onClick:d,class:"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition"}," Go to Login Page ")])])):y("",!0)])}}};export{se as default};
